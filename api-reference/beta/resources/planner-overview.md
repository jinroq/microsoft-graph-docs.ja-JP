---
title: Planner REST APIを使用する
description: Microsoft GraphのPlanner APIを使用してタスクを作成し、それらをOffice 365のグループ内のユーザーに割り当てることができます。
author: TarkanSevilmis
localization_priority: Priority
ms.prod: planner
ms.openlocfilehash: b09efbb6e20946f18a1a4fd6a4c7d4ea77319a52
ms.sourcegitcommit: b198efc2391a12a840e4f1b8c42c18a55b06037f
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/23/2019
ms.locfileid: "35820683"
---
# <a name="use-the-planner-rest-api"></a><span data-ttu-id="8369f-103">Planner REST APIを使用する</span><span class="sxs-lookup"><span data-stu-id="8369f-103">Use the Planner REST API</span></span>

[!INCLUDE [beta-disclaimer](../../includes/beta-disclaimer.md)]

<span data-ttu-id="8369f-104">Microsoft GraphのPlanner APIを使用してタスクを作成し、それらをOffice 365のグループ内のユーザーに割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="8369f-104">You can use the Planner API in Microsoft Graph to create tasks and assign them to users in a group in Office 365.</span></span>

<span data-ttu-id="8369f-105">Planner APIを使い始める前に、メインオブジェクト同士や、Office 365グループとの関係について理解しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-105">Before you get started with the Planner API, it will be helpful to understand how the main objects relate to each other as well as to Office 365 groups.</span></span>

## <a name="office-365-groups"></a><span data-ttu-id="8369f-106">Office 365 グループ</span><span class="sxs-lookup"><span data-stu-id="8369f-106">Office 365 Groups</span></span>

<span data-ttu-id="8369f-107">Office 365 のグループは、Planner API のプランの所有者です。</span><span class="sxs-lookup"><span data-stu-id="8369f-107">Office 365 groups are the owners of the plans in the Planner API.</span></span>
<span data-ttu-id="8369f-108">[グループが所有するプランを取得する](../api/plannergroup-list-plans.md)には、次に示す HTTP 要求を行います。</span><span class="sxs-lookup"><span data-stu-id="8369f-108">To [get the plans owned by a group](../api/plannergroup-list-plans.md), make the following HTTP request.</span></span>

``` http
GET /groups/{group-id}/planner/plans
```

<span data-ttu-id="8369f-109">[新しいプランを作成する](../api/planner-post-plans.md)場合は、プラン オブジェクトに `owner` プロパティを設定することで、グループを所有者にできます。</span><span class="sxs-lookup"><span data-stu-id="8369f-109">When [creating a new plan](../api/planner-post-plans.md), make a group its owner by setting the `owner` property on a plan object.</span></span> <span data-ttu-id="8369f-110">プランはグループによって所有される必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-110">Plans must be owned by groups.</span></span>

><span data-ttu-id="8369f-111">**注意:** プランを作成するユーザーは、プランを所有するグループのメンバーである必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-111">**Note:** The user who is creating the plan must be a member of the group that will own the plan.</span></span> <span data-ttu-id="8369f-112">あなたが新しいグループを[グループの作成](../api/group-post-groups.md)を使用して作成しても、メンバーとしてそのグループに追加されることはありません。</span><span class="sxs-lookup"><span data-stu-id="8369f-112">When you create a new group by using [Create group](../api/group-post-groups.md), you are not added to the group as a member.</span></span> <span data-ttu-id="8369f-113">グループを作成したら、[グループ投稿メンバー](../api/group-post-members.md)を使用して自分自身をメンバーとして追加します。</span><span class="sxs-lookup"><span data-stu-id="8369f-113">After the group is created, add yourself as a member by using [group post members](../api/group-post-members.md).</span></span>

## <a name="plans"></a><span data-ttu-id="8369f-114">プラン</span><span class="sxs-lookup"><span data-stu-id="8369f-114">Plans</span></span>

<span data-ttu-id="8369f-115">[プラン](plannerplan.md)は[タスク](plannertask.md)のコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="8369f-115">[Plans](plannerplan.md) are the containers of [tasks](plannertask.md).</span></span> <span data-ttu-id="8369f-116">[プランのタスクを作成する](../api/planner-post-tasks.md)には、タスクの作成時にタスク オブジェクトの `planId` プロパティをプランの ID に設定します。</span><span class="sxs-lookup"><span data-stu-id="8369f-116">To [create a task in a plan](../api/planner-post-tasks.md), set the `planId` property on the task object to the ID of the plan while creating the task.</span></span>
<span data-ttu-id="8369f-117">現在、プランなしでタスクを作成することはできません。</span><span class="sxs-lookup"><span data-stu-id="8369f-117">Tasks currently cannot be created without plans.</span></span>
<span data-ttu-id="8369f-118">[プラン内のタスクを取得する](../api/plannerplan-list-tasks.md)には、次のHTTPリクエストを行います。</span><span class="sxs-lookup"><span data-stu-id="8369f-118">To [retrieve the tasks in a plan](../api/plannerplan-list-tasks.md), make the following HTTP request.</span></span>

``` http
GET /planner/plans/{plan-id}/tasks
```

## <a name="tasks"></a><span data-ttu-id="8369f-119">タスク</span><span class="sxs-lookup"><span data-stu-id="8369f-119">Tasks</span></span>

<span data-ttu-id="8369f-120">各タスクは、タスク オブジェクトの [assignments](plannerassignments.md) プロパティに [assignment](plannerassignment.md) を追加することにより、ユーザーに割り当てることができます。</span><span class="sxs-lookup"><span data-stu-id="8369f-120">Each task can be assigned to a user by adding an [assignment](plannerassignment.md) in the [assignments](plannerassignments.md) property on the task object.</span></span>
<span data-ttu-id="8369f-121">タスクを割り当てるユーザーの ID は `assignments` の open プロパティの名前であり、assignment の `orderHint` プロパティを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-121">The ID of the user to assign the task is the name of the open property on `assignments`, and the `orderHint` property on the assignment must be specified.</span></span>

## <a name="task-and-plan-details"></a><span data-ttu-id="8369f-122">タスクとプランの詳細</span><span class="sxs-lookup"><span data-stu-id="8369f-122">Task and plan details</span></span> 

<span data-ttu-id="8369f-123">Planner のリソースは、基本オブジェクトと詳細オブジェクトに配置されます。</span><span class="sxs-lookup"><span data-stu-id="8369f-123">Planner resources are arranged into basic objects and detail objects.</span></span> <span data-ttu-id="8369f-124">基本オブジェクトは、リスト ビューに適したリソースの共通プロパティへのアクセスを提供し、詳細オブジェクトは、ドリル ダウン ビューに適したリソースの大規模なプロパティへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="8369f-124">Basic objects provide access to common properties of the resources, suitable for list views, while the detail objects provide access to large properties of the resources suitable for drill down views.</span></span>

## <a name="visualization"></a><span data-ttu-id="8369f-125">視覚化</span><span class="sxs-lookup"><span data-stu-id="8369f-125">Visualization</span></span>

<span data-ttu-id="8369f-126">Planner API は、タスクとプランのデータのほかに、データの共通した視覚化をクライアント全体に提供するためのリソースも提供します。</span><span class="sxs-lookup"><span data-stu-id="8369f-126">Aside from task and plan data, the Planner API also provides resources for creating a common visualization of data across clients.</span></span> <span data-ttu-id="8369f-127">次の表にリストされているように、タスクにはいくつかの種類の視覚化データがあります。</span><span class="sxs-lookup"><span data-stu-id="8369f-127">Several types of visualization data are available for tasks, as listed in the following table.</span></span>

| <span data-ttu-id="8369f-128">タスクの表示</span><span class="sxs-lookup"><span data-stu-id="8369f-128">Tasks are shown as</span></span>                                                                        | <span data-ttu-id="8369f-129">タスクを順序付ける情報の情報源</span><span class="sxs-lookup"><span data-stu-id="8369f-129">Tasks are ordered with information from</span></span>                                         |
| :---------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------ |
| <span data-ttu-id="8369f-130">フラット リスト (プラン内のタスク)</span><span class="sxs-lookup"><span data-stu-id="8369f-130">Flat list (tasks in a plan)</span></span>                                                               | <span data-ttu-id="8369f-131">タスクの `orderHint` プロパティ</span><span class="sxs-lookup"><span data-stu-id="8369f-131">`orderHint` property on tasks</span></span>                                                   |
| <span data-ttu-id="8369f-132">フラット リスト (ユーザーに割り当てられたタスク)</span><span class="sxs-lookup"><span data-stu-id="8369f-132">Flat list (tasks assigned to a user)</span></span>                                                      | <span data-ttu-id="8369f-133">タスクの `assigneePriority` プロパティ</span><span class="sxs-lookup"><span data-stu-id="8369f-133">`assigneePriority` property on tasks</span></span>                                            |
| <span data-ttu-id="8369f-134">割り当て先の列を含むボード ビュー (タスク ボードに割り当て)</span><span class="sxs-lookup"><span data-stu-id="8369f-134">Board view with columns for assignees (assigned to task board)</span></span>                            | <span data-ttu-id="8369f-135">[assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md) オブジェクト</span><span class="sxs-lookup"><span data-stu-id="8369f-135">[assignedToTaskBoardTaskFormat](plannerassignedtotaskboardtaskformat.md) object</span></span> |
| <span data-ttu-id="8369f-136">タスクの進行状況を示す列を含むボード ビュー (進行状況タスク ボード)</span><span class="sxs-lookup"><span data-stu-id="8369f-136">Board view with columns for progress of the task towards completion (progress task board)</span></span> | <span data-ttu-id="8369f-137">[progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md)オブジェクト</span><span class="sxs-lookup"><span data-stu-id="8369f-137">[progressTaskBoardTaskFormat](plannerprogresstaskboardtaskformat.md) object</span></span>     |
| <span data-ttu-id="8369f-138">タスクのカスタム列を含むボード ビュー (バケット タスク ボード)</span><span class="sxs-lookup"><span data-stu-id="8369f-138">Board view with custom columns of tasks (bucket task board):</span></span>                              | <span data-ttu-id="8369f-139">[bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md) オブジェクト</span><span class="sxs-lookup"><span data-stu-id="8369f-139">[bucketTaskBoardTaskFormat](plannerbuckettaskboardtaskformat.md) object</span></span>         |

<span data-ttu-id="8369f-140">バケット タスク ボードのカスタム列は [bucket](plannerbucket.md) オブジェクトで表され、その順序はオブジェクトの `orderHint` プロパティによって表されます。</span><span class="sxs-lookup"><span data-stu-id="8369f-140">The custom columns in the bucket task board are represented by [bucket](plannerbucket.md) objects, and their order by `orderHint` property on the object.</span></span>

<span data-ttu-id="8369f-141">すべての順序は、[Planner の順序のヒント](planner-order-hint-format.md)に書かれた原則によって制御されます。</span><span class="sxs-lookup"><span data-stu-id="8369f-141">All the ordering is controlled by the principles described in [Planner order hints](planner-order-hint-format.md).</span></span>

## <span data-ttu-id="8369f-142"><a name="delta">デルタクエリを使用して変更を追跡する</a></span><span class="sxs-lookup"><span data-stu-id="8369f-142"><a name="delta">Track changes using delta query</a></span></span>

<span data-ttu-id="8369f-143">Plannerのデルタクエリは、ユーザがサブスクライブしているオブジェクトのクエリをサポートします。</span><span class="sxs-lookup"><span data-stu-id="8369f-143">Planner's delta query supports querying objects that the user is subscribed to.</span></span>

<span data-ttu-id="8369f-144">ユーザーは以下のオブジェクトをサブスクライブしています。</span><span class="sxs-lookup"><span data-stu-id="8369f-144">Users are subscribed to the following objects.</span></span>

| <span data-ttu-id="8369f-145">Planner リソースの種類</span><span class="sxs-lookup"><span data-stu-id="8369f-145">Planner resource type</span></span> | <span data-ttu-id="8369f-146">サブスクライブしているインスタンス</span><span class="sxs-lookup"><span data-stu-id="8369f-146">Subscribed instances</span></span>                                                                                                                                                                                    |
| :-------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| <span data-ttu-id="8369f-147">タスク</span><span class="sxs-lookup"><span data-stu-id="8369f-147">Tasks</span></span>                 | <ul><li><span data-ttu-id="8369f-148">ユーザーによって作成</span><span class="sxs-lookup"><span data-stu-id="8369f-148">Created by the user</span></span></li><li><span data-ttu-id="8369f-149">ユーザーに割り当て済</span><span class="sxs-lookup"><span data-stu-id="8369f-149">Assigned to the user</span></span></li><li><span data-ttu-id="8369f-150">ユーザーが所有しているプランに属しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-150">Belong to a plan that the user owns</span></span></li><li><span data-ttu-id="8369f-151">planの**SharedWith**コレクションを通じてユーザーと共有されているplanに含まれています</span><span class="sxs-lookup"><span data-stu-id="8369f-151">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li> |
| <span data-ttu-id="8369f-152">プラン</span><span class="sxs-lookup"><span data-stu-id="8369f-152">Plans</span></span>                 | <ul><li><span data-ttu-id="8369f-153">planの**SharedWith**コレクションを通じてユーザーと共有されています</span><span class="sxs-lookup"><span data-stu-id="8369f-153">Shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                                     |
| <span data-ttu-id="8369f-154">バケット</span><span class="sxs-lookup"><span data-stu-id="8369f-154">Buckets</span></span>               | <ul><li><span data-ttu-id="8369f-155">planの**SharedWith**コレクションを通じてユーザーと共有されているplanに含まれています</span><span class="sxs-lookup"><span data-stu-id="8369f-155">Contained in a plan shared with the user through the plan's **SharedWith** collection</span></span></li></ul>                                                                                                 |  |

### <span data-ttu-id="8369f-156"><a name="objectcache">デルタクエリ用にオブジェクトキャッシュを生成する</a></span><span class="sxs-lookup"><span data-stu-id="8369f-156"><a name="objectcache">Populate the object cache for delta queries</a></span></span>

<span data-ttu-id="8369f-157">PlannerデルタクエリAPIを使用したい場合は、デルタ応答フィードからの変更を適用するために、ユーザーが観察したいオブジェクトのローカル・キャッシュを維持してください。</span><span class="sxs-lookup"><span data-stu-id="8369f-157">If you want to use the Planner delta query API, maintain a local cache of objects that the user is interested in observing in order to apply the changes from the delta response feed.</span></span>

<span data-ttu-id="8369f-158">Plannerデルタクエリが現在返すことができるデルタペイロードオブジェクトは、次のタイプになります。</span><span class="sxs-lookup"><span data-stu-id="8369f-158">The delta payload objects that the Planner delta query can currently return will be of the following types:</span></span>

* [<span data-ttu-id="8369f-159">plannerTask</span><span class="sxs-lookup"><span data-stu-id="8369f-159">plannerTask</span></span>](plannertask.md)
* [<span data-ttu-id="8369f-160">plannerTaskDetails</span><span class="sxs-lookup"><span data-stu-id="8369f-160">plannerTaskDetails</span></span>](plannertaskdetails.md)
* [<span data-ttu-id="8369f-161">plannerPlan</span><span class="sxs-lookup"><span data-stu-id="8369f-161">plannerPlan</span></span>](plannerplan.md)
* [<span data-ttu-id="8369f-162">plannerPlanDetails</span><span class="sxs-lookup"><span data-stu-id="8369f-162">plannerPlanDetails</span></span>](plannerplandetails.md)
* [<span data-ttu-id="8369f-163">plannerBucket</span><span class="sxs-lookup"><span data-stu-id="8369f-163">plannerBucket</span></span>](plannerbucket.md)
* [<span data-ttu-id="8369f-164">plannerAssignedToTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="8369f-164">plannerAssignedToTaskBoardTaskFormat</span></span>](plannerassignedtotaskboardtaskformat.md)
* [<span data-ttu-id="8369f-165">plannerBucketTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="8369f-165">plannerBucketTaskBoardTaskFormat</span></span>](plannerbuckettaskboardtaskformat.md)
* [<span data-ttu-id="8369f-166">plannerAssignedToTaskBoardTaskFormat</span><span class="sxs-lookup"><span data-stu-id="8369f-166">plannerAssignedToTaskBoardTaskFormat</span></span>](plannerassignedtotaskboardtaskformat.md)

<span data-ttu-id="8369f-167">リソース上の対応する`GET`メソッドを使用して、ローカルキャッシュに移入するオブジェクトの初期状態を取得します。</span><span class="sxs-lookup"><span data-stu-id="8369f-167">Use the corresponding `GET` methods on the resource to obtain the initial state of objects to be populated into the local cache.</span></span>

### <a name="differentiating-between-object-creation-and-object-modification"></a><span data-ttu-id="8369f-168">オブジェクトの作成とオブジェクトの変更の違い</span><span class="sxs-lookup"><span data-stu-id="8369f-168">Differentiating between object creation and object modification</span></span>

<span data-ttu-id="8369f-169">特定のシナリオでは、呼び出し側は、Plannerのデルタクエリフィード内でオブジェクトの作成とオブジェクトの変更を区別したい場合があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-169">In certain scenarios, the caller might want to distinguish between object creation and object modification within Planner's delta query feed.</span></span>

<span data-ttu-id="8369f-170">これらのガイドラインは、オブジェクト作成を推測するために使用できます。</span><span class="sxs-lookup"><span data-stu-id="8369f-170">These guidelines can be used to infer object creation:</span></span>

* <span data-ttu-id="8369f-171">`createdBy`プロパティは、新しく作成されたオブジェクトにのみ表示されます。</span><span class="sxs-lookup"><span data-stu-id="8369f-171">The `createdBy` property will only appear on newly created objects.</span></span>
* <span data-ttu-id="8369f-172">新しく作成された `plannerTask`オブジェクトには、それに対応する `plannerTaskDetails`オブジェクトが続きます。</span><span class="sxs-lookup"><span data-stu-id="8369f-172">A newly created `plannerTask` object will be followed by its corresponding `plannerTaskDetails` object.</span></span>
* <span data-ttu-id="8369f-173">新しく作成された `plannerPlan`オブジェクトには、それに対応する `plannerPlanDetails`オブジェクトが続きます。</span><span class="sxs-lookup"><span data-stu-id="8369f-173">A newly created `plannerPlan` object will be followed by its corresponding `plannerPlanDetails` object.</span></span>

### <a name="usage"></a><span data-ttu-id="8369f-174">使用方法</span><span class="sxs-lookup"><span data-stu-id="8369f-174">Usage</span></span>

<span data-ttu-id="8369f-175">呼び出し元は、サブスクライブしているオブジェクトが含まれるキャッシュを持っている必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-175">The caller is expected to have a cache containing subscribed objects.</span></span> <span data-ttu-id="8369f-176">サブスクライブされたオブジェクトのローカルキャッシュを埋める方法の詳細については、[デルタクエリ用にオブジェクトキャッシュを生成する](#populate-the-object-cache-for-delta-queries)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="8369f-176">For details about how to fill the local cache of subscribed objects, see [Populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries).</span></span>

<span data-ttu-id="8369f-177">Plannerのデルタクエリコールフローは次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="8369f-177">Planner's delta query call flow is as follows:</span></span>

1. <span data-ttu-id="8369f-178">呼び出し側がデルタ同期照会を開始し、`nextLink`と空の変更コレクションを取得します。</span><span class="sxs-lookup"><span data-stu-id="8369f-178">The caller initiates a delta sync query, obtaining a `nextLink` and an empty collection of changes.</span></span>
2. <span data-ttu-id="8369f-179">呼び出し側はユーザーがサブスクライブしているオブジェクトを使用して、[差分キャッシュのオブジェクトキャッシュにデータを入力し](#populate-the-object-cache-for-delta-queries) そのキャッシュを更新する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-179">The caller must [populate the object cache for delta queries](#populate-the-object-cache-for-delta-queries) with objects that the user is subscribed to, updating its cache.</span></span>
3. <span data-ttu-id="8369f-180">呼び出し側は、最初のデルタ同期照会で提供された`nextLink`の内容に従って前のステップ以降に行われた`deltaLink`新しい変更を取得します 。</span><span class="sxs-lookup"><span data-stu-id="8369f-180">The caller follows the `nextLink` provided in the initial delta sync query to obtain a new `deltaLink` to any changes since previous step.</span></span>
4. <span data-ttu-id="8369f-181">呼び出し側は、返されたデルタレスポンスの変更をキャッシュ内のオブジェクトに適用します。</span><span class="sxs-lookup"><span data-stu-id="8369f-181">The caller applies the changes in the returned delta response to the objects in its cache.</span></span>
5. <span data-ttu-id="8369f-182">呼び出し側は新しいdeltaLinkをたどって現在の `deltaLink`生成後の次のdeltaLinkと変更を取得します。</span><span class="sxs-lookup"><span data-stu-id="8369f-182">The caller follows the new deltaLink to obtain the next deltaLink and changes since the current `deltaLink` was generated.</span></span>
6. <span data-ttu-id="8369f-183">呼び出し側は変更があればそれを適用して、前のステップとこのステップを再実行する前に少し待ちます。</span><span class="sxs-lookup"><span data-stu-id="8369f-183">The caller applies the changes (if any) and waits a short time before rerunning the previous step and this step.</span></span>

## <a name="planner-resource-versioning"></a><span data-ttu-id="8369f-184">Planner のリソースのバージョン管理</span><span class="sxs-lookup"><span data-stu-id="8369f-184">Planner resource versioning</span></span>

<span data-ttu-id="8369f-185">Plannerはすべてのリソースを **etags**を使ってバージョン管理します。</span><span class="sxs-lookup"><span data-stu-id="8369f-185">Planner versions all resources using **etags**.</span></span> <span data-ttu-id="8369f-186">これらの**etags**は各リソースの`@odata.etag`プロパティとともに返されます 。</span><span class="sxs-lookup"><span data-stu-id="8369f-186">These **etags** are returned with `@odata.etag` property on each resource.</span></span> <span data-ttu-id="8369f-187">`PATCH`と`DELETE` リクエストは、クライアントが知っている最後の**etag**を`If-Match`ヘッダで指定することを要求します。</span><span class="sxs-lookup"><span data-stu-id="8369f-187">`PATCH` and `DELETE` requests require the last **etag** known by the client to be specified with a `If-Match` header.</span></span>
<span data-ttu-id="8369f-188">目的の変更が同じリソース上の Planner サービスによって受け入れられた新しい変更と競合しない場合、Planner は古いバージョンのリソースに変更を加えることができます。</span><span class="sxs-lookup"><span data-stu-id="8369f-188">Planner allows changes to older versions of resources, if the intended change does not conflict with newer changes accepted by the Planner service on the same resource.</span></span> <span data-ttu-id="8369f-189">クライアントは、**etag**順序文字列の比較でどの値が大きいかを計算することによって、同じリソースのどの**etag**がより新しいかを識別できます 。</span><span class="sxs-lookup"><span data-stu-id="8369f-189">The clients can identify which **etag** for the same resource is newer by calculating which **etag** value is greater in ordinal string comparison.</span></span> <span data-ttu-id="8369f-190">各リソースには固有の **etag**があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-190">Each resource has a unique **etag**.</span></span> <span data-ttu-id="8369f-191">異なるリソースの Etag 値は比較できません (包含関係のあるものを含む)。</span><span class="sxs-lookup"><span data-stu-id="8369f-191">Etag values for different resources, including those with containment relationships, cannot be compared.</span></span>
<span data-ttu-id="8369f-192">クライアントアプリは、アイテムの最新バージョンを読み取り、競合する変更を解決することで、バージョニング関連の[エラーコード](/graph/errors) **409** および**412**を処理することが期待されています。</span><span class="sxs-lookup"><span data-stu-id="8369f-192">The client apps are expected to handle versioning related [error codes](/graph/errors) **409** and **412** by reading the latest version of the item and resolving the conflicting changes.</span></span>

## <a name="common-planner-error-conditions"></a><span data-ttu-id="8369f-193">一般的な Planner のエラー条件</span><span class="sxs-lookup"><span data-stu-id="8369f-193">Common Planner error conditions</span></span>

<span data-ttu-id="8369f-194">Microsoft Graph に適用される[一般的なエラー](/graph/errors)のほかに、Planner API に固有のエラー条件もあります。</span><span class="sxs-lookup"><span data-stu-id="8369f-194">In addition to [general errors](/graph/errors) that apply to Microsoft Graph, some error conditions are specific to the Planner API.</span></span>

### <a name="400-bad-request"></a><span data-ttu-id="8369f-195">400 要求が正しくありません</span><span class="sxs-lookup"><span data-stu-id="8369f-195">400 Bad request</span></span>

<span data-ttu-id="8369f-196">いくつかの一般的なシナリオでは、`POST` and `PATCH` リクエストは400ステータスコードを返す可能性があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-196">In some common scenarios, `POST` and `PATCH` requests can return a 400 status code.</span></span> <span data-ttu-id="8369f-197">以下は、よくある原因の一部です。</span><span class="sxs-lookup"><span data-stu-id="8369f-197">The following are some of the common causes:</span></span>

* <span data-ttu-id="8369f-198">Open Type プロパティが正しい型でないか、型が指定されていないか、またはプロパティが含まれていません。</span><span class="sxs-lookup"><span data-stu-id="8369f-198">Open Type properties are not of correct types, or the type isn't specified, or they do not contain any properties.</span></span> <span data-ttu-id="8369f-199">たとえば、複雑な値が指定された [plannerAssignments](plannerassignments.md) プロパティは、値 `microsoft.graph.plannerAssignment` を指定した `@odata.type` プロパティで宣言する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-199">For example, [plannerAssignments](plannerassignments.md) properties with complex values need to declare `@odata.type` property with value `microsoft.graph.plannerAssignment`.</span></span>
* <span data-ttu-id="8369f-200">ORDER ヒントの値が[正しい書式](planner-order-hint-format.md)になっていません。</span><span class="sxs-lookup"><span data-stu-id="8369f-200">Order hint values do not have the [correct format](planner-order-hint-format.md).</span></span> <span data-ttu-id="8369f-201">たとえば、ORDER ヒントの値は、クライアントに返される値に直接設定されています。</span><span class="sxs-lookup"><span data-stu-id="8369f-201">For example, an order hint value is being set directly to the value returned to the client.</span></span>
* <span data-ttu-id="8369f-202">データが論理的に矛盾しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-202">The data is logically inconsistent.</span></span> <span data-ttu-id="8369f-203">たとえば、タスクの開始日がタスクの期日よりも後になる場合などです。</span><span class="sxs-lookup"><span data-stu-id="8369f-203">For example, start date of task is later than due date of the task.</span></span>

### <a name="403-forbidden"></a><span data-ttu-id="8369f-204">403 Forbidden</span><span class="sxs-lookup"><span data-stu-id="8369f-204">403 Forbidden</span></span>

<span data-ttu-id="8369f-205">Planner API では、一般的なエラーのほかに、サービスで定義された制限を超えた場合にも403 ステータスコードを返します。</span><span class="sxs-lookup"><span data-stu-id="8369f-205">In addition to the general errors, the Planner API also returns the 403 status code when a service-defined limit has been exceeded.</span></span> <span data-ttu-id="8369f-206">この場合、エラー リソースの種類の `code` プロパティは、要求が超過した制限の種類を示します。</span><span class="sxs-lookup"><span data-stu-id="8369f-206">If this is the case, the `code` property on the error resource type will indicate the type of the limit exceeded by the request.</span></span>
<span data-ttu-id="8369f-207">以下は、制限タイプに有効な値です。</span><span class="sxs-lookup"><span data-stu-id="8369f-207">The following are the possible values for the limit types.</span></span>

| <span data-ttu-id="8369f-208">値</span><span class="sxs-lookup"><span data-stu-id="8369f-208">Value</span></span>                         | <span data-ttu-id="8369f-209">説明</span><span class="sxs-lookup"><span data-stu-id="8369f-209">Description</span></span>                                                                                                                                                                                              |
| :---------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="8369f-210">MaximumProjectsOwnedByUser</span><span class="sxs-lookup"><span data-stu-id="8369f-210">MaximumProjectsOwnedByUser</span></span>    | <span data-ttu-id="8369f-211">グループが所有するプランの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-211">The maximum number of Plans owned by a group limit has been exceeded.</span></span> <span data-ttu-id="8369f-212">この制限は、[plannerPlan](plannerplan.md) リソースの `owner` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-212">This limit is based on the `owner` property on the [plannerPlan](plannerplan.md) resource.</span></span>                                         |
| <span data-ttu-id="8369f-213">MaximumProjectsSharedWithUser</span><span class="sxs-lookup"><span data-stu-id="8369f-213">MaximumProjectsSharedWithUser</span></span> | <span data-ttu-id="8369f-214">ユーザーが共有するプランの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-214">The maximum number of Plans shared with a user limit has been exceeded.</span></span>  <span data-ttu-id="8369f-215">この制限は、[plannerPlanDetails](plannerplandetails.md) リソースの `sharedWith` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-215">This limit is based on the `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource.</span></span>                   |
| <span data-ttu-id="8369f-216">MaximumTasksCreatedByUser</span><span class="sxs-lookup"><span data-stu-id="8369f-216">MaximumTasksCreatedByUser</span></span>     | <span data-ttu-id="8369f-217">ユーザーが作成するタスクの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-217">The maximum number of Tasks created by a user limit has been exceeded.</span></span> <span data-ttu-id="8369f-218">この制限は、[plannerTask](plannertask.md) リソースの `createdBy` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-218">This limit is based on the `createdBy` property on the [plannerTask](plannertask.md) resource.</span></span>                                    |
| <span data-ttu-id="8369f-219">MaximumTasksAssignedToUser</span><span class="sxs-lookup"><span data-stu-id="8369f-219">MaximumTasksAssignedToUser</span></span>    | <span data-ttu-id="8369f-220">ユーザーに割り当てられるタスクの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-220">The maximum number of Tasks assigned to a user limit has been exceeded.</span></span> <span data-ttu-id="8369f-221">この制限は、[plannerTask](plannertask.md) リソースの `assignments` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-221">This limit is based on the `assignments` property on the [plannerTask](plannertask.md) resource.</span></span>                                 |
| <span data-ttu-id="8369f-222">MaximumTasksInProject</span><span class="sxs-lookup"><span data-stu-id="8369f-222">MaximumTasksInProject</span></span>         | <span data-ttu-id="8369f-223">プランにおけるタスクの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-223">The maximum number of Tasks in a Plan limit has been exceeded.</span></span> <span data-ttu-id="8369f-224">この制限は、[plannerTask](plannertask.md) リソースの `planId` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-224">This limit is based on the `planId` property on the [plannerTask](plannertask.md) resource.</span></span>                                               |
| <span data-ttu-id="8369f-225">MaximumActiveTasksInProject</span><span class="sxs-lookup"><span data-stu-id="8369f-225">MaximumActiveTasksInProject</span></span>   | <span data-ttu-id="8369f-226">プランで完了されないタスクの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-226">The maximum number of Tasks that aren't completed in a Plan limit has been exceeded.</span></span> <span data-ttu-id="8369f-227">この制限は、[plannerTask](plannertask.md) リソースの `planId` および `percentComplete` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-227">This limit is based on the `planId` and `percentComplete` properties on the [plannerTask](plannertask.md) resource.</span></span> |
| <span data-ttu-id="8369f-228">MaximumBucketsInProject</span><span class="sxs-lookup"><span data-stu-id="8369f-228">MaximumBucketsInProject</span></span>       | <span data-ttu-id="8369f-229">プランにおけるバケットの最大数の制限を超過しています。</span><span class="sxs-lookup"><span data-stu-id="8369f-229">The maximum number of Buckets in a Plan limit has been exceeded.</span></span> <span data-ttu-id="8369f-230">この制限は、[plannerBucket](plannerbucket.md) リソースの `planId` プロパティに基づいています。</span><span class="sxs-lookup"><span data-stu-id="8369f-230">This limit is based on the `planId` property on the [plannerBucket](plannerbucket.md) resource.</span></span>                                         |
| <span data-ttu-id="8369f-231">MaximumUsersSharedWithProject</span><span class="sxs-lookup"><span data-stu-id="8369f-231">MaximumUsersSharedWithProject</span></span> | <span data-ttu-id="8369f-232">[plannerPlanDetails](plannerplandetails.md) リソースの `sharedWith` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-232">The `sharedWith` property on the [plannerPlanDetails](plannerplandetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="8369f-233">MaximumReferencesOnTask</span><span class="sxs-lookup"><span data-stu-id="8369f-233">MaximumReferencesOnTask</span></span>       | <span data-ttu-id="8369f-234">[plannerTaskDetails](plannertaskdetails.md) リソースの `references` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-234">The `references` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                          |
| <span data-ttu-id="8369f-235">MaximumChecklistItemsOnTask</span><span class="sxs-lookup"><span data-stu-id="8369f-235">MaximumChecklistItemsOnTask</span></span>   | <span data-ttu-id="8369f-236">[plannerTaskDetails](plannertaskdetails.md) リソースの `checklist` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-236">The `checklist` property on the [plannerTaskDetails](plannertaskdetails.md) resource contains too many values.</span></span>                                                                                           |
| <span data-ttu-id="8369f-237">MaximumAssigneesInTasks</span><span class="sxs-lookup"><span data-stu-id="8369f-237">MaximumAssigneesInTasks</span></span>       | <span data-ttu-id="8369f-238">[plannerTask](plannertask.md) リソースの `assignments` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-238">The `assignments` property on the [plannerTask](plannertask.md) resource contains too many values.</span></span>                                                                                                       |
| <span data-ttu-id="8369f-239">MaximumFavoritePlansForUser</span><span class="sxs-lookup"><span data-stu-id="8369f-239">MaximumFavoritePlansForUser</span></span>   | <span data-ttu-id="8369f-240">[plannerUser](planneruser.md)リソースの`favoritePlanReferences` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-240">The `favoritePlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                            |
| <span data-ttu-id="8369f-241">MaximumRecentPlansForUser</span><span class="sxs-lookup"><span data-stu-id="8369f-241">MaximumRecentPlansForUser</span></span>     | <span data-ttu-id="8369f-242">[plannerUser](planneruser.md)リソースの`recentPlanReferences` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-242">The `recentPlanReferences` property on the [plannerUser](planneruser.md) resource contains too many values.</span></span>                                                                                              |
| <span data-ttu-id="8369f-243">MaximumContextsOnPlan</span><span class="sxs-lookup"><span data-stu-id="8369f-243">MaximumContextsOnPlan</span></span>         | <span data-ttu-id="8369f-244">[plannerPlan](plannerplan.md)リソースの`contexts` プロパティに含まれる値が多すぎます。</span><span class="sxs-lookup"><span data-stu-id="8369f-244">The `contexts` property on the [plannerPlan](plannerplan.md) resource contains too many values.</span></span>                                                                                                          |
| <span data-ttu-id="8369f-245">MaximumPlannerPlans</span><span class="sxs-lookup"><span data-stu-id="8369f-245">MaximumPlannerPlans</span></span>       | <span data-ttu-id="8369f-246">このグループには、プランが既に含まれています。</span><span class="sxs-lookup"><span data-stu-id="8369f-246">The group already contains a Plan.</span></span> <span data-ttu-id="8369f-247">現時点では、グループは 1 つのプランのみ含めることができます。</span><span class="sxs-lookup"><span data-stu-id="8369f-247">Currently, groups can only contain one Plan.</span></span> <span data-ttu-id="8369f-248">**注意:** いくつかの Microsoft アプリは、この制限を超えることができます。</span><span class="sxs-lookup"><span data-stu-id="8369f-248">**Note:** Some Microsoft apps can exceed this limit.</span></span> <span data-ttu-id="8369f-249">将来、すべてのアプリケーションにこの機能を拡張します。</span><span class="sxs-lookup"><span data-stu-id="8369f-249">In the future, we will extend this capability to all apps.</span></span>                                                                                                      |

### <a name="412-precondition-failed"></a><span data-ttu-id="8369f-250">412 前提条件が失敗しました</span><span class="sxs-lookup"><span data-stu-id="8369f-250">412 Precondition Failed</span></span> 

<span data-ttu-id="8369f-251">Planner API のすべての `POST`、`PATCH` および `DELETE` 要求には、要求の対象となるリソースと思われる最新の etag 値で `If-Match` ヘッダーを指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-251">All Planer API `POST`, `PATCH`, and `DELETE` requests require the `If-Match` header to be specified with the last known etag value of the resource that is subject to the request.</span></span>
<span data-ttu-id="8369f-252">さらに、要求に指定された etag 値がサービス内のリソースのバージョンと一致しなくなった場合は、412 ステータス コードが返されます。</span><span class="sxs-lookup"><span data-stu-id="8369f-252">The 412 status code can also be returned if the etag value specified in the request no longer matches a version of the resource in the service.</span></span> <span data-ttu-id="8369f-253">この場合、クライアントはリソースを再度読み込んで、新しい etag を取得する必要があります。</span><span class="sxs-lookup"><span data-stu-id="8369f-253">In this case, the clients should read the resource again and get a new etag.</span></span>

